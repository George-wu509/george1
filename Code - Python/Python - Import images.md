

### `cv2.imread()` 的輸出

`cv2.imread()` 函式的返回值是一個 **NumPy ndarray**，具體取決於讀取的圖片：

- **彩色圖片**：返回一個三維陣列，形狀為 `(高度, 寬度, 通道數)`，通常是 `(H, W, 3)`，其中 3 代表 BGR 三個顏色通道。
- **灰階圖片**：如果使用 `cv2.IMREAD_GRAYSCALE` 標誌，返回一個二維陣列，形狀為 `(高度, 寬度)。
```python
img = cv2.imread(img_path)
```

### 使用 PIL 讀取圖片的輸出格式

PIL（Python Imaging Library）的後繼者是 Pillow，它提供了更強大和靈活的圖片處理功能。使用 Pillow 讀取圖片時，返回的物件是 `PIL.Image.Image` 類型的實例，而不是 NumPy 陣列。如果需要將 PIL 的 `Image` 物件轉換為 NumPy 陣列，可以使用 `numpy.array` 函式
```python
img = Image.open(img_path)
img_array = np.array(img)
```

### Python 的 List、Array 和 NumPy 陣列的區別

理解這三者之間的區別對於選擇合適的資料結構非常重要。

#### 1. Python 的 `list`

- **定義**：Python 內建的動態陣列，可以存放不同類型的資料。
    
- **特點**：
    
    - 支援多種資料類型：同一個列表中可以包含整數、字串、其他列表等。
    - 動態調整大小：可以隨時添加或刪除元素。
    - 操作靈活但效率較低：適合需要頻繁變更大小或存放不同類型資料的情況。
- **範例**：
    
    `my_list = [1, 'two', 3.0, [4]]`
    
#### 2. Python 的 `array` 模組

- **定義**：提供了基本的數據結構來存放同類型的資料，比 `list` 更節省記憶體。
    
- **特點**：
    
    - 限制元素類型：所有元素必須是相同的基本資料類型（如整數、浮點數等）。
    - 更高效的記憶體使用：比 `list` 更節省空間，適合大量數值資料。
    - 支援基本的數值運算，但功能較有限。
- **範例**：

    `import array  my_array = array.array('i', [1, 2, 3, 4])  # 'i' 表示整數`

#### 3. NumPy 的 `ndarray`

- **定義**：NumPy 提供的多維陣列對象，支援大量的數值運算和高效的數據處理。
    
- **特點**：
    
    - 多維：支援多維資料結構（如二維、三維等），適合處理矩陣和高維數據。
    - 高效的運算：利用底層 C 語言實現，運算速度快，特別適合數值計算和科學運算。
    - 廣泛的函式庫支援：如線性代數、傅立葉變換、隨機數生成等。
    - 同質性：所有元素必須是相同的資料類型，通常是數值型。
- **範例**：

    `import numpy as np  my_numpy_array = np.array([[1, 2, 3], [4, 5, 6]])`
    

#### 總結比較

|特性|Python `list`|Python `array`|NumPy `ndarray`|
|---|---|---|---|
|資料類型|任意類型（混合）|單一類型（同質）|單一類型（同質），多維|
|記憶體效率|較低|高於 `list`|高效，特別是大規模數據|
|操作靈活性|非常靈活|限制較多|高效數值運算和科學計算，但操作較專一|
|運算速度|較慢|較快|非常快（利用底層優化）|
|典型用途|通用資料存儲|基本數值資料存儲|科學計算、數據分析、機器學習等|

### 小結

- **優化圖片讀取**：使用 `glob`、`pathlib` 或列表生成式等方法，可以更高效地讀取多種格式的圖片，避免顯式的迴圈遍歷。
- **PIL 與 NumPy**：PIL 的 `Image` 物件提供了靈活的圖片處理功能，而 NumPy 陣列則適合進行高效的數值運算。根據需求，可以選擇適合的庫或結合使用。
- **資料結構選擇**：了解 `list`、`array` 和 `ndarray` 的特性，有助於根據具體應用場景選擇最合適的資料結構，以達到最佳的效能和便利性。


### Python 中的 `array` 與其他資料結構的比較

#### **`array` 是獨立的基本資料結構**

- **獨立性**：
    - `array` 並不是 `list`、`tuple`、`dict` 或 `set` 的子類或變體，而是 **獨立的資料結構**，由內建的 `array` 模組提供。
    - 它專門用於存儲大量相同類型的數值資料，具有比 `list` 更高的效能和更低的記憶體消耗。

#### **與 `list` 的比較**

|特性|`list`|`array.array`|
|---|---|---|
|元素類型|可混合不同類型|同質，所有元素必須是相同類型|
|記憶體效率|較低|更高，適合大量數值資料|
|功能豐富度|非常豐富，支援各種操作|功能較有限，專注於數值操作|
|使用場景|通用資料存儲，適合各種元素類型|大量數值資料存儲和操作|

|               |                                                                         |
| ------------- | ----------------------------------------------------------------------- |
| List          | my_list = [1, 'two', 3.0, [4]]                                          |
| Tuple         | my_tuple = (1, 'two', 3.0, [4])                                         |
| Dictionary    | my_dict = {'name': 'Alice', 'age': 30, 'is_student': False}             |
| Set           | my_set = {1, 2, 3, 4}                                                   |
| Array         | import array<br>my_array = array.array('i', [1, 2, 3, 4])               |
| Numpy.ndarray | import numpy as np<br>my_numpy_array = np.array([[1, 2, 3], [4, 5, 6]]) |



#### **與 `tuple`、`dict`、`set` 的比較**

- **`tuple`**：
    
    - **不可變**，而 `array` 是可變的。
    - **用途不同**，`tuple` 常用於固定資料的存儲，而 `array` 用於大量數值資料的處理。
- **`dict`**：
    
    - **鍵值對結構**，用於快速查找和映射。
    - **用途不同**，`array` 用於有序的數值序列存儲。
- **`set`**：
    
    - **無序且唯一**，用於集合操作（如聯集、交集）。
    - **用途不同**，`array` 用於有序的數值序列存儲。
### 總結

- **內建基本資料結構**：Python 提供了多種內建的基本資料結構，包括 `list`、`tuple`、`dict`、`set`、`frozenset`、`bytes`、`bytearray` 等，每種資料結構都有其特定的用途和特性。
- **`array` 的獨立性**：`array` 並不是 `list`、`tuple`、`dict` 或 `set` 的子類或變體，而是由內建的 `array` 模組提供的獨立資料結構，專門用於高效存儲大量相同類型的數值資料。
- **選擇合適的資料結構**：根據具體的應用場景和需求，選擇最合適的資料結構可以提高程式的效能和可讀性。例如，處理大量數值資料時，`array` 或 NumPy 的 `ndarray` 更為合適；需要快速查找和映射時，`dict` 是更好的選擇。