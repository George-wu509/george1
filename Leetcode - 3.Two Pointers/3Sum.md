Lintcode 57
ç»™å‡ºä¸€ä¸ªæœ‰Â `n`Â ä¸ªæ•´æ•°çš„æ•°ç»„Â `S`ï¼Œåœ¨Â `S`Â ä¸­æ‰¾åˆ°ä¸‰ä¸ªæ•´æ•°Â `a`,Â `b`,Â `c`ï¼Œæ‰¾åˆ°æ‰€æœ‰ä½¿å¾—Â `a + b + c = 0`Â çš„ä¸‰å…ƒç»„ã€‚

Examples
```python
æ ·ä¾‹ 1ï¼š
è¾“å…¥ï¼š
numbers = [2,7,11,15]
è¾“å‡ºï¼š
[]
è§£é‡Šï¼š
æ‰¾ä¸åˆ°ä¸‰å…ƒç»„ä½¿å¾—ä¸‰ä¸ªæ•°å’Œä¸º0ã€‚

æ ·ä¾‹ 2ï¼š
è¾“å…¥ï¼š
numbers = [-1,0,1,2,-1,-4]
è¾“å‡ºï¼š
[[-1, 0, 1],[-1, -1, 2]]
è§£é‡Šï¼š
[-1, 0, 1]å’Œ[-1, -1, 2]æ˜¯ç¬¦åˆæ¡ä»¶çš„2ä¸ªä¸‰å…ƒç»„ã€‚
```

```python
class Solution:
    """
    @param numbers: Give an array numbers of n integer
    @return: Find all unique triplets in the array which gives the sum of zero.
    """
    def threeSum(self, nums):
        nums = sorted(nums)
        
        results = []
        for i in range(len(nums)):
            if i > 0 and nums[i] == nums[i - 1]:
                continue
            self.find_two_sum(nums, i + 1, len(nums) - 1, -nums[i], results)
            
        return results

    def find_two_sum(self, nums, left, right, target, results):
        last_pair = None
        while left < right:
            if nums[left] + nums[right] == target:
                if (nums[left], nums[right]) != last_pair:
                    results.append([-target, nums[left], nums[right]])
                last_pair = (nums[left], nums[right])
                right -= 1
                left += 1
            elif nums[left] + nums[right] > target:
                right -= 1
            else:
                left += 1
```
pass


# **LintCode 57: 3Sumï¼ˆä¸‰æ•°ä¹‹å’Œï¼‰**

---

## **é—®é¢˜æè¿°**

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œæ‰¾å‡ºæ‰€æœ‰ **ä¸é‡å¤** çš„ **ä¸‰å…ƒç»„ `(a, b, c)`**ï¼Œä½¿å¾—ï¼š

a+b+c=0a + b + c = 0a+b+c=0

**æ³¨æ„ï¼š**

- **ä¸èƒ½åŒ…å«é‡å¤è§£**ã€‚
- **ä¸‰å…ƒç»„ `(a, b, c)` å¿…é¡»æŒ‰å‡åºæ’åˆ—**ã€‚

---

## **è§£æ³•ï¼šæ’åº + åŒæŒ‡é’ˆ**

### **æ ¸å¿ƒæ€è·¯**

1. **å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åº**
    
    - æ–¹ä¾¿å»é‡å¤„ç†ï¼Œä¿è¯ä¸‰å…ƒç»„æŒ‰**å‡åºæ’åˆ—**ã€‚
2. **å›ºå®š `nums[i]`ï¼Œç”¨åŒæŒ‡é’ˆ `left` å’Œ `right` æ‰¾ `b + c = -a`**
    
    - `i` éå† `nums`ï¼Œæ¯æ¬¡å›ºå®š `nums[i]` ä½œä¸º `a`ã€‚
    - `left` æŒ‡å‘ `i+1`ï¼Œ`right` æŒ‡å‘ `len(nums)-1`ï¼ŒåŒæŒ‡é’ˆå¯»æ‰¾ `b + c = -a`ã€‚
3. **è·³è¿‡é‡å¤å…ƒç´ **
    
    - **`nums[i] == nums[i-1]` æ—¶è·³è¿‡**ï¼Œé¿å… `a` é‡å¤ã€‚
    - **`(nums[left], nums[right]) == last_pair` æ—¶è·³è¿‡**ï¼Œé¿å… `(b, c)` é‡å¤ã€‚

---

## **æ‰§è¡Œè¿‡ç¨‹**

### **å˜é‡è¡¨**

|å˜é‡|è¯´æ˜|
|---|---|
|`nums`|ç»è¿‡æ’åºçš„æ•°ç»„|
|`i`|å›ºå®šå½“å‰ `a` çš„ç´¢å¼•|
|`left`|æŒ‡å‘ `b` çš„å·¦æŒ‡é’ˆ|
|`right`|æŒ‡å‘ `c` çš„å³æŒ‡é’ˆ|
|`target`|éœ€è¦æ‰¾åˆ°çš„ `b + c` çš„å’Œ|
|`results`|å­˜å‚¨æ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„|

---

### **Step 1: å…ˆæ’åº**

å‡è®¾è¾“å…¥ï¼š

python

è¤‡è£½ç·¨è¼¯

`nums = [-1, 0, 1, 2, -1, -4]`

æ’åºåï¼š

ini

è¤‡è£½ç·¨è¼¯

`nums = [-4, -1, -1, 0, 1, 2]`

---

### **Step 2: ä½¿ç”¨ä¸‰é‡å¾ªç¯ + åŒæŒ‡é’ˆ**

#### **ç¬¬ä¸€è½®ï¼šå›ºå®š `i = 0`ï¼ˆ`a = -4`ï¼‰ï¼Œå¯»æ‰¾ `b + c = 4`**

|å˜é‡|å€¼|
|---|---|
|`i`|0|
|`left`|1|
|`right`|5|
|`target`|4|

- `nums[1] + nums[5] = -1 + 2 = 1`ï¼Œå°äº `4`ï¼Œå³ç§» `left = 2`ã€‚
- `nums[2] + nums[5] = -1 + 2 = 1`ï¼Œå°äº `4`ï¼Œå³ç§» `left = 3`ã€‚
- `nums[3] + nums[5] = 0 + 2 = 2`ï¼Œå°äº `4`ï¼Œå³ç§» `left = 4`ã€‚
- `nums[4] + nums[5] = 1 + 2 = 3`ï¼Œå°äº `4`ï¼Œå³ç§» `left = 5`ï¼Œ**ç»“æŸå¾ªç¯**ã€‚

---

#### **ç¬¬äºŒè½®ï¼šå›ºå®š `i = 1`ï¼ˆ`a = -1`ï¼‰ï¼Œå¯»æ‰¾ `b + c = 1`**

|å˜é‡|å€¼|
|---|---|
|`i`|1|
|`left`|2|
|`right`|5|
|`target`|1|

- `nums[2] + nums[5] = -1 + 2 = 1`ï¼Œ**æ‰¾åˆ°è§£ `[-1, -1, 2]`**ï¼Œè®°å½•åˆ° `results`ã€‚
- `nums[3] + nums[4] = 0 + 1 = 1`ï¼Œ**æ‰¾åˆ°è§£ `[-1, 0, 1]`**ï¼Œè®°å½•åˆ° `results`ã€‚

---

#### **ç¬¬ä¸‰è½®ï¼šå›ºå®š `i = 2`ï¼ˆ`a = -1`ï¼‰ï¼Œè·³è¿‡**

- `nums[2] == nums[1]`ï¼Œ**è·³è¿‡ï¼Œé¿å…é‡å¤è§£**ã€‚

---

#### **ç¬¬å››è½®ï¼šå›ºå®š `i = 3`ï¼ˆ`a = 0`ï¼‰ï¼Œå¯»æ‰¾ `b + c = 0`**

- `nums[4] + nums[5] = 1 + 2 = 3`ï¼Œå¤§äº `0`ï¼Œå·¦ç§» `right = 4`ã€‚
- **ç»“æŸå¾ªç¯**ã€‚

---

### **æœ€ç»ˆç»“æœ**

lua

è¤‡è£½ç·¨è¼¯

`results = [[-1, -1, 2], [-1, 0, 1]]`

è¿”å›ï¼š

python

è¤‡è£½ç·¨è¼¯

`[[-1, -1, 2], [-1, 0, 1]]`

---

## **æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦åˆ†æ**

### **æ—¶é—´å¤æ‚åº¦**

|æ“ä½œ|å¤æ‚åº¦|è¯´æ˜|
|---|---|---|
|**æ’åº `nums`**|`O(n log n)`|éœ€è¦æ’åºæ•°ç»„|
|**ä¸‰é‡å¾ªç¯éå† `i, left, right`**|`O(n^2)`|`O(n)` æŸ¥æ‰¾ `b + c`ï¼Œ`O(n)` å›ºå®š `a`|
|**æ€»å¤æ‚åº¦**|`O(n^2)`|ç”±äºæ’åºå ä¸»å¯¼ï¼Œæœ€ç»ˆå¤æ‚åº¦ `O(n^2)`|

### **ç©ºé—´å¤æ‚åº¦**

- ä»…ä½¿ç”¨å¸¸æ•°é¢å¤–ç©ºé—´ï¼Œ**`O(1)`**ï¼ˆä¸è®¡ `results` è¾“å‡ºï¼‰ã€‚

---

## **å…¶ä»–è§£æ³•**

### **1. å“ˆå¸Œè¡¨ï¼ˆO(n^2)ï¼‰**

- **æ€è·¯**
    - å›ºå®š `a = nums[i]`ï¼Œç”¨å“ˆå¸Œè¡¨å­˜å‚¨ `target - nums[j]`ï¼ŒæŸ¥æ‰¾ `c`ã€‚
- **æ—¶é—´å¤æ‚åº¦**
    - `O(n log n) + O(n^2) = O(n^2)`ã€‚

### **2. é€’å½’å›æº¯ï¼ˆO(n^3)ï¼‰**

- **æ€è·¯**
    - é€’å½’é€‰æ‹© `a, b, c`ï¼Œæ‰¾åˆ°å’Œä¸º `0` çš„ç»„åˆã€‚
- **æ—¶é—´å¤æ‚åº¦**
    - `O(n^3)`ï¼Œé€‚ç”¨äºå°è§„æ¨¡æ•°æ®ã€‚

---

## **æ–¹æ³•æ¯”è¾ƒ**

|æ–¹æ³•|æ€è·¯|æ—¶é—´å¤æ‚åº¦|ç©ºé—´å¤æ‚åº¦|é€‚ç”¨æƒ…å†µ|
|---|---|---|---|---|
|**åŒæŒ‡é’ˆï¼ˆå½“å‰è§£æ³•ï¼‰**|**æ’åº + å›ºå®š `a` + åŒæŒ‡é’ˆæ‰¾ `b, c`**|`O(n^2)`|`O(1)`|**æœ€ä¼˜è§£ï¼Œé€‚ç”¨äºå¤§æ•°æ®**|
|**å“ˆå¸Œè¡¨**|**å›ºå®š `a`ï¼Œå“ˆå¸Œè¡¨å­˜ `b` æŸ¥æ‰¾ `c`**|`O(n^2)`|`O(n)`|**é€‚ç”¨äº `b + c` å˜åŒ–å¿«çš„æƒ…å†µ**|
|**é€’å½’å›æº¯**|**æš´åŠ›æœç´¢æ‰€æœ‰ä¸‰å…ƒç»„**|`O(n^3)`|`O(1)`|**é€‚ç”¨äºå°è§„æ¨¡æ•°æ®**|

---

## **æ€»ç»“**

- **æœ€ä¼˜è§£** âœ… **åŒæŒ‡é’ˆ `O(n^2)`**
- **å¦‚æœ `b + c` å˜åŒ–å¿«ï¼Œå¯ç”¨ `O(n^2)` å“ˆå¸Œè¡¨**
- **å¦‚æœ `n` é€‚ä¸­ï¼Œå¯ç”¨ `O(n^3)` é€’å½’å›æº¯**

ğŸš€ **"åŒæŒ‡é’ˆ" æ˜¯æœ€ä¼˜è§£ï¼Œé€‚ç”¨äºå¤§è§„æ¨¡æ•°æ®ï¼**