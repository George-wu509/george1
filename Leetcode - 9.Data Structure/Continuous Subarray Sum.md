Lintcode 402
ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œè¯·æ‰¾å‡ºä¸€ä¸ªè¿ç»­å­æ•°ç»„ï¼Œä½¿å¾—è¯¥å­æ•°ç»„çš„å’Œæœ€å¤§ã€‚è¾“å‡ºç­”æ¡ˆæ—¶ï¼Œè¯·åˆ†åˆ«è¿”å›ç¬¬ä¸€ä¸ªæ•°å­—å’Œæœ€åä¸€ä¸ªæ•°å­—çš„ä¸‹æ ‡ã€‚ï¼ˆå¦‚æœå­˜åœ¨å¤šä¸ªç­”æ¡ˆï¼Œè¯·è¿”å›å­—å…¸åºæœ€å°çš„ï¼‰
**æ ·ä¾‹ 1:**
```python
è¾“å…¥: [-3, 1, 3, -3, 4]
è¾“å‡º: [1, 4]
```
**æ ·ä¾‹ 2:**
```python
è¾“å…¥: [0, 1, 0, 1]
è¾“å‡º: [0, 3]
è§£é‡Š: å­—å…¸åºæœ€å°.
```


```python
    def continuous_subarray_sum(self, a):
        n = len(a)
        if n == 0: return []
        
        import sys
        minsum, presum = 0, 0
        maxsum = -sys.maxsize
        minindex = -1
        l, r = -1 , -1
        for i in range(n):
            presum = presum + a[i]
            if presum - minsum > maxsum:
                maxsum = presum - minsum
                l, r = minindex + 1, i
            if presum < minsum:
                minsum = presum
                minindex = i
        
        return [l, r]
```
pass

## **LintCode 402: Continuous Subarray Sumï¼ˆè¿ç»­å­æ•°ç»„å’Œï¼‰**

---

### **é¢˜ç›®æè¿°**
ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `a`ï¼Œæ‰¾åˆ° **å’Œæœ€å¤§** çš„ **è¿ç»­å­æ•°ç»„**ï¼Œè¿”å›å…¶èµ·å§‹å’Œç»“æŸç´¢å¼•ã€‚
#### **ç¤ºä¾‹**

`è¾“å…¥: a = [-3, 1, 3, -3, 4]  è¾“å‡º: [1, 4]`

**è§£é‡Š**
``æœ€å¤§å­æ•°ç»„æ˜¯ [1, 3, -3, 4]ï¼Œå’Œä¸º `5`ï¼Œç´¢å¼•èŒƒå›´ `[1, 4]`ã€‚``

---

## **è§£æ³•ï¼šå‰ç¼€å’Œ + åŒæŒ‡é’ˆ**

### **æ ¸å¿ƒæ€è·¯**

1. **åˆ©ç”¨å‰ç¼€å’Œ `presum[i]`**
    
    - `presum[i]` è¡¨ç¤ºä» `a[0]` åˆ° `a[i]` çš„ç´¯ç§¯å’Œã€‚
    - å­æ•°ç»„ `a[l:r]` çš„å’Œç­‰äºï¼š`presum[r] - presum[l-1]`
    - **ç›®æ ‡**ï¼šæ‰¾åˆ° `l` å’Œ `r` ä½¿å¾— `presum[r] - presum[l-1]` æœ€å¤§ã€‚
2. **ç»´æŠ¤ `minsum` è®°å½•æœ€å°å‰ç¼€å’Œ**
    
    - `minsum`ï¼š**éå†è¿‡ç¨‹ä¸­æœ€å°çš„ `presum`**ã€‚
    - `minindex`ï¼š`minsum` å¯¹åº”çš„ç´¢å¼•ã€‚
3. **åŒæŒ‡é’ˆ `l, r`**
    
    - `l` è®°å½•æœ€å¤§å­æ•°ç»„çš„èµ·å§‹ç´¢å¼•ã€‚
    - `r` è®°å½•æœ€å¤§å­æ•°ç»„çš„ç»“æŸç´¢å¼•ã€‚

---

### **ä»£ç è§£æ**
```python
def continuous_subarray_sum(self, a: List[int]) -> List[int]:
    n = len(a)
    if n == 0: return []

    import sys
    minsum, presum = 0, 0  # minsum: è®°å½•æœ€å°çš„å‰ç¼€å’Œ
    maxsum = -sys.maxsize  # è®°å½•æœ€å¤§å­æ•°ç»„å’Œ
    minindex = -1  # minsum å¯¹åº”çš„ç´¢å¼•
    l, r = -1, -1  # è®°å½•æœ€å¤§å­æ•°ç»„çš„ç´¢å¼•èŒƒå›´

    for i in range(n):
        presum += a[i]  # è®¡ç®—å½“å‰å‰ç¼€å’Œ

        # æ£€æŸ¥æ˜¯å¦å½“å‰åŒºé—´ a[minindex+1:i] å’Œæœ€å¤§
        if presum - minsum > maxsum:
            maxsum = presum - minsum
            l, r = minindex + 1, i

        # æ›´æ–°æœ€å°å‰ç¼€å’Œ
        if presum < minsum:
            minsum = presum
            minindex = i

    return [l, r]

```

---

## **é€æ­¥æ‰§è¡Œåˆ†æ**

**è¾“å…¥**

`a = [-3, 1, 3, -3, 4]`

### **åˆå§‹åŒ–**

|å˜é‡|åˆå§‹å€¼|
|---|---|
|`minsum`|`0`|
|`presum`|`0`|
|`maxsum`|`-âˆ`|
|`minindex`|`-1`|
|`l`|`-1`|
|`r`|`-1`|

---

### **éå† `a`**

|`i`|`a[i]`|`presum` å˜åŒ–|`minsum` å˜åŒ–|`maxsum` å˜åŒ–|`l`|`r`|`minindex`|
|---|---|---|---|---|---|---|---|
|0|-3|`-3`|`-3`|`-3`|`0`|`0`|`0`|
|1|1|`-2`|`-3`|`1`|`1`|`1`|`0`|
|2|3|`1`|`-3`|`4`|`1`|`2`|`0`|
|3|-3|`-2`|`-3`|`4`|`1`|`2`|`0`|
|4|4|`2`|`-3`|`5`|`1`|`4`|`0`|

æœ€ç»ˆè¿”å›ï¼š

`[1, 4]`

---

## **æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦åˆ†æ**

4. **æ—¶é—´å¤æ‚åº¦**
    
    - **`O(n)`**ï¼šéå† `nums` ä¸€æ¬¡ï¼Œæ¯æ¬¡ `O(1)` è®¡ç®— `presum` å’Œ `maxsum`ã€‚
5. **ç©ºé—´å¤æ‚åº¦**
    
    - **`O(1)`**ï¼šåªä½¿ç”¨äº†å¸¸æ•°ä¸ªå˜é‡ã€‚

---

## **å…¶ä»–è§£æ³•**

### **1. Kadaneâ€™s Algorithmï¼ˆO(n)ï¼‰**

- **æ€è·¯**
    - ç»´æŠ¤å½“å‰æœ€å¤§å­æ•°ç»„ `sum`ã€‚
    - å¦‚æœ `sum < 0`ï¼Œé‡æ–°å¼€å§‹è®¡ç®—ã€‚
    - é€‚ç”¨äº **è¿”å›æœ€å¤§å’Œï¼Œä½†æ— æ³•ç›´æ¥è¿”å›ç´¢å¼•**ã€‚
    
```python
def continuous_subarray_sum(a):
    ans = -float('inf')
    sum = 0
    start, end = 0, -1
    result = [-1, -1]

    for i in range(len(a)):
        if sum < 0:
            sum = a[i]
            start = i
        else:
            sum += a[i]

        if sum > ans:
            ans = sum
            result = [start, i]

    return result

```

- **æ—¶é—´å¤æ‚åº¦ `O(n)`ï¼Œç©ºé—´å¤æ‚åº¦ `O(1)`ã€‚**

---

### **2. æš´åŠ›æ³• `O(n^2)`**

- **æ€è·¯**
    - æšä¸¾æ‰€æœ‰å­æ•°ç»„ `a[i:j]`ï¼Œè®¡ç®— `sum(a[i:j])`ã€‚
    - **ç¼ºç‚¹**ï¼šæ—¶é—´å¤æ‚åº¦è¿‡é«˜ã€‚

python
```python
def continuous_subarray_sum(nums):
    n = len(nums)
    ans = -float('inf')
    result = [-1, -1]

    for i in range(n):
        sum = 0
        for j in range(i, n):
            sum += nums[j]
            if sum > ans:
                ans = sum
                result = [i, j]

    return result

```

- **æ—¶é—´å¤æ‚åº¦ `O(n^2)`ï¼Œç©ºé—´å¤æ‚åº¦ `O(1)`ã€‚**

---

## **æ–¹æ³•æ¯”è¾ƒ**

|æ–¹æ³•|æ—¶é—´å¤æ‚åº¦|ç©ºé—´å¤æ‚åº¦|é€‚ç”¨æƒ…å†µ|
|---|---|---|---|
|**å‰ç¼€å’Œ + åŒæŒ‡é’ˆï¼ˆæœ€ä½³è§£æ³•ï¼‰**|`O(n)`|`O(1)`|**å¤§æ•°æ®æœ€ä¼˜**|
|Kadane's Algorithm|`O(n)`|`O(1)`|**è¿”å›æœ€å¤§å’Œï¼Œä¸è¿”å›ç´¢å¼•**|
|æš´åŠ›æ³•|`O(n^2)`|`O(1)`|**é€‚ç”¨äºå°æ•°æ®**|

ğŸš€ **å‰ç¼€å’Œ `O(n)` è§£æ³•æ˜¯æœ€ä¼˜ï¼Œé€‚ç”¨äºå¤§è§„æ¨¡æ•°æ®ï¼**